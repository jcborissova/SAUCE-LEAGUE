@import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap");
@import "tailwindcss";

@layer base {
  :root {
    --background: 214 32% 97%;
    --foreground: 222 37% 13%;
    --muted: 213 24% 93%;
    --muted-foreground: 218 15% 40%;
    --popover: 0 0% 100%;
    --popover-foreground: 222 37% 13%;
    --card: 0 0% 100%;
    --card-foreground: 222 37% 13%;
    --border: 214 24% 83%;
    --input: 214 24% 83%;
    --primary: 209 83% 38%;
    --primary-foreground: 210 40% 98%;
    --secondary: 214 32% 95%;
    --secondary-foreground: 222 37% 13%;
    --accent: 214 32% 95%;
    --accent-foreground: 222 37% 13%;
    --destructive: 0 75% 48%;
    --destructive-foreground: 0 0% 98%;
    --ring: 208 86% 35%;
    --radius: 10px;

    --surface-1: 0 0% 100%;
    --surface-2: 213 28% 95.5%;
    --surface-3: 214 24% 91%;
    --text-subtle: 218 15% 40%;
    --text-strong: 222 37% 13%;
    --text-inverse: 0 0% 100%;
    --success: 146 60% 38%;
    --warning: 38 92% 46%;
    --info: 206 88% 44%;
    --chart-1: 208 86% 35%;
    --chart-2: 196 92% 43%;
    --chart-3: 148 58% 38%;
    --chart-4: 39 93% 45%;
    --chart-5: 8 84% 54%;
    --chart-6: 171 74% 36%;
    --chart-7: 201 90% 41%;
    --chart-8: 337 80% 49%;

    --motion-hover: 140ms;
    --motion-tab: 220ms;
    --motion-reveal: 280ms;
    --ease-smooth: cubic-bezier(0.22, 1, 0.36, 1);
  }

  .dark {
    --background: 223 28% 8%;
    --foreground: 210 36% 96%;
    --muted: 220 23% 14%;
    --muted-foreground: 216 16% 69%;
    --popover: 223 28% 8%;
    --popover-foreground: 210 36% 96%;
    --card: 223 24% 11%;
    --card-foreground: 210 36% 96%;
    --border: 220 18% 22%;
    --input: 220 18% 22%;
    --primary: 209 78% 56%;
    --primary-foreground: 210 40% 98%;
    --secondary: 219 22% 15%;
    --secondary-foreground: 210 36% 96%;
    --accent: 219 22% 15%;
    --accent-foreground: 210 36% 96%;
    --destructive: 0 64% 43%;
    --destructive-foreground: 210 40% 98%;
    --ring: 209 82% 58%;

    --surface-1: 223 24% 11%;
    --surface-2: 220 22% 15.5%;
    --surface-3: 219 20% 21%;
    --text-subtle: 216 16% 69%;
    --text-strong: 210 36% 96%;
    --text-inverse: 210 40% 98%;
    --success: 146 59% 44%;
    --warning: 39 96% 62%;
    --info: 206 82% 58%;
    --chart-1: 209 80% 58%;
    --chart-2: 196 82% 58%;
    --chart-3: 146 59% 53%;
    --chart-4: 39 96% 62%;
    --chart-5: 8 86% 63%;
    --chart-6: 171 74% 53%;
    --chart-7: 202 84% 60%;
    --chart-8: 337 86% 65%;
  }

  * {
    border-color: hsl(var(--border));
  }

  body {
    @apply bg-[hsl(var(--background))] text-[hsl(var(--foreground))] antialiased;
    font-family: "Space Grotesk", system-ui, -apple-system, sans-serif;
    min-height: 100vh;
    text-rendering: optimizeLegibility;
    background-image:
      radial-gradient(circle at 8% -8%, hsl(var(--primary) / 0.07), transparent 30%),
      radial-gradient(circle at 92% -4%, hsl(var(--info) / 0.05), transparent 28%);
    background-attachment: fixed;
  }

  button,
  a,
  input,
  select,
  textarea {
    transition-timing-function: var(--ease-smooth);
  }

  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    outline: 2px solid hsl(var(--ring) / 0.45);
    outline-offset: 2px;
  }
}

@layer utilities {
  .card {
    @apply rounded-[10px] border border-[hsl(var(--border)/0.76)] bg-[hsl(var(--card)/0.98)] text-[hsl(var(--card-foreground))] shadow-none;
  }

  .surface {
    @apply bg-[hsl(var(--background))] text-[hsl(var(--foreground))];
  }

  .app-surface {
    @apply bg-[hsl(var(--background))] text-[hsl(var(--foreground))];
  }

  .app-panel {
    @apply rounded-[10px] border border-[hsl(var(--border)/0.74)] bg-[hsl(var(--surface-2)/0.8)] text-[hsl(var(--foreground))] shadow-[0_1px_0_hsl(var(--border)/0.35)];
  }

  .app-card {
    @apply rounded-[10px] border border-[hsl(var(--border)/0.74)] bg-[hsl(var(--surface-1)/0.98)] text-[hsl(var(--foreground))] shadow-[0_1px_0_hsl(var(--border)/0.42)];
  }

  .app-title {
    @apply font-bold tracking-tight text-[hsl(var(--text-strong))];
  }

  .app-subtitle {
    @apply text-sm font-medium text-[hsl(var(--text-subtle))];
  }

  .app-muted {
    @apply text-[hsl(var(--text-subtle))];
  }

  .bottom-nav-safe {
    padding-bottom: calc(5.5rem + env(safe-area-inset-bottom));
  }

  .soft-scrollbar {
    scrollbar-color: hsl(var(--primary) / 0.4) transparent;
    scrollbar-width: thin;
  }

  .soft-scrollbar::-webkit-scrollbar {
    height: 8px;
    width: 8px;
  }

  .soft-scrollbar::-webkit-scrollbar-thumb {
    background-color: hsl(var(--primary) / 0.34);
    border-radius: 999px;
  }

  .soft-scrollbar::-webkit-scrollbar-track {
    background-color: transparent;
  }
}

@layer components {
  .btn-base {
    @apply inline-flex min-h-[44px] items-center justify-center gap-2 rounded-[10px] px-4 py-2 text-sm font-semibold disabled:cursor-not-allowed disabled:opacity-60;
    transition-duration: var(--motion-hover);
  }

  .btn-primary {
    @apply inline-flex min-h-[44px] items-center justify-center gap-2 rounded-[10px] border border-[hsl(var(--primary)/0.84)] bg-[hsl(var(--primary))] px-4 py-2 text-sm font-semibold text-[hsl(var(--primary-foreground))] disabled:cursor-not-allowed disabled:opacity-60;
    transition-duration: var(--motion-hover);
  }

  .btn-primary:hover {
    @apply brightness-105;
  }

  .btn-secondary {
    @apply inline-flex min-h-[44px] items-center justify-center gap-2 rounded-[10px] border bg-[hsl(var(--surface-1))] px-4 py-2 text-sm font-semibold text-[hsl(var(--foreground))] disabled:cursor-not-allowed disabled:opacity-60;
    transition-duration: var(--motion-hover);
  }

  .btn-secondary:hover {
    @apply border-[hsl(var(--primary)/0.28)] bg-[hsl(var(--muted)/0.75)];
  }

  .btn-danger {
    @apply inline-flex min-h-[44px] items-center justify-center gap-2 rounded-[10px] border border-[hsl(var(--destructive)/0.7)] bg-[hsl(var(--destructive))] px-4 py-2 text-sm font-semibold text-[hsl(var(--destructive-foreground))] disabled:cursor-not-allowed disabled:opacity-60;
    transition-duration: var(--motion-hover);
  }

  .btn-danger:hover {
    @apply brightness-110;
  }

  .input-base,
  .select-base,
  .textarea-base {
    @apply w-full rounded-[10px] border bg-[hsl(var(--surface-1))] px-3 py-2.5 text-sm text-[hsl(var(--foreground))] placeholder:text-[hsl(var(--text-subtle))] focus:outline-none;
    min-height: 44px;
    transition-duration: var(--motion-hover);
  }

  .textarea-base {
    min-height: 110px;
  }

  .modal-shell {
    @apply fixed inset-0 z-50 flex items-end justify-center bg-black/56 p-0 backdrop-blur-[2px] sm:items-center sm:p-4;
  }

  .modal-card {
    @apply w-full max-h-[94vh] overflow-y-auto rounded-t-2xl border bg-[hsl(var(--surface-1))] p-4 text-[hsl(var(--foreground))] shadow-none sm:max-w-3xl sm:rounded-[12px] sm:p-6;
    animation: modal-enter var(--motion-reveal) var(--ease-smooth);
  }
}

@keyframes modal-enter {
  from {
    opacity: 0;
    transform: translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}
