@import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap");
@import "tailwindcss";

@layer base {
  :root {
    /* Neutrals — cool editorial slate */
    --background: 218 28% 97%;
    --foreground: 222 24% 13%;
    --muted: 218 18% 93%;
    --muted-foreground: 218 11% 42%;
    --popover: 0 0% 100%;
    --popover-foreground: 222 24% 13%;
    --card: 0 0% 100%;
    --card-foreground: 222 24% 13%;
    --border: 218 16% 84%;
    --input: 218 16% 84%;

    /* Primary action tone — modern athletic blue */
    --primary: 212 82% 40%;
    --primary-foreground: 0 0% 98%;

    /* Brand identity tone (logo red), for optional accents only */
    --brand: 4 79% 29%;

    /* Secondary / accent */
    --secondary: 218 18% 95%;
    --secondary-foreground: 222 24% 13%;
    --accent: 218 18% 95%;
    --accent-foreground: 222 24% 13%;

    /* Semantic */
    --destructive: 0 78% 45%;
    --destructive-foreground: 0 0% 98%;
    --ring: 212 86% 42%;
    --radius: 8px;

    /* Surfaces */
    --surface-1: 0 0% 100%;
    --surface-2: 218 22% 95%;
    --surface-3: 218 18% 91%;
    --text-subtle: 218 11% 42%;
    --text-strong: 222 24% 13%;
    --text-inverse: 0 0% 100%;

    /* Semantic statuses */
    --success: 146 58% 36%;
    --warning: 38 92% 44%;
    --info: 206 84% 44%;

    /* Chart */
    --chart-1: 212 82% 40%;
    --chart-2: 196 88% 42%;
    --chart-3: 148 55% 36%;
    --chart-4: 39 90% 43%;
    --chart-5: 24 85% 50%;
    --chart-6: 171 70% 34%;
    --chart-7: 201 88% 40%;
    --chart-8: 337 76% 46%;

    /* Motion */
    --motion-hover: 130ms;
    --motion-tab: 210ms;
    --motion-reveal: 270ms;
    --ease-smooth: cubic-bezier(0.22, 1, 0.36, 1);
  }

  .dark {
    /* Dark — graphite with cool tone */
    --background: 222 24% 8%;
    --foreground: 210 28% 95%;
    --muted: 222 16% 14%;
    --muted-foreground: 216 11% 66%;
    --popover: 222 24% 10%;
    --popover-foreground: 210 28% 95%;
    --card: 222 18% 11%;
    --card-foreground: 210 28% 95%;
    --border: 222 13% 22%;
    --input: 222 13% 22%;

    --primary: 210 76% 60%;
    --primary-foreground: 0 0% 98%;
    --brand: 4 64% 44%;

    /* Secondary / accent */
    --secondary: 222 14% 16%;
    --secondary-foreground: 210 28% 95%;
    --accent: 222 14% 16%;
    --accent-foreground: 210 28% 95%;

    /* Semantic */
    --destructive: 0 68% 42%;
    --destructive-foreground: 0 0% 98%;
    --ring: 210 82% 64%;

    /* Surfaces */
    --surface-1: 222 18% 11%;
    --surface-2: 222 14% 15%;
    --surface-3: 222 13% 19%;
    --text-subtle: 216 11% 66%;
    --text-strong: 210 28% 95%;
    --text-inverse: 222 24% 9%;

    /* Semantic statuses */
    --success: 146 57% 44%;
    --warning: 39 94% 60%;
    --info: 206 82% 60%;

    /* Chart */
    --chart-1: 210 76% 60%;
    --chart-2: 196 82% 58%;
    --chart-3: 146 57% 52%;
    --chart-4: 39 94% 60%;
    --chart-5: 24 88% 60%;
    --chart-6: 171 72% 50%;
    --chart-7: 202 82% 58%;
    --chart-8: 337 82% 62%;
  }

  * {
    border-color: hsl(var(--border));
  }

  body {
    @apply bg-[hsl(var(--background))] text-[hsl(var(--foreground))] antialiased;
    font-family: "Space Grotesk", system-ui, -apple-system, sans-serif;
    min-height: 100vh;
    text-rendering: optimizeLegibility;
    /* Ambient atmosphere */
    background-image:
      radial-gradient(circle at 8% -10%, hsl(var(--primary) / 0.08), transparent 34%),
      radial-gradient(circle at 92% -6%, hsl(var(--chart-2) / 0.045), transparent 26%);
    background-attachment: fixed;
  }

  button,
  a,
  input,
  select,
  textarea {
    transition-timing-function: var(--ease-smooth);
  }

  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    outline: 2px solid hsl(var(--ring) / 0.5);
    outline-offset: 2px;
  }
}

@layer utilities {
  .card {
    @apply rounded-[var(--radius)] border border-[hsl(var(--border)/0.76)] bg-[hsl(var(--card)/0.98)] text-[hsl(var(--card-foreground))] shadow-none;
  }

  .surface {
    @apply bg-[hsl(var(--background))] text-[hsl(var(--foreground))];
  }

  .app-surface {
    @apply bg-[hsl(var(--background))] text-[hsl(var(--foreground))];
  }

  .app-panel {
    @apply rounded-[10px] border border-[hsl(var(--border)/0.72)] bg-[hsl(var(--surface-2)/0.82)] text-[hsl(var(--foreground))] shadow-[0_1px_0_hsl(var(--border)/0.34)];
  }

  .app-card {
    @apply rounded-[10px] border border-[hsl(var(--border)/0.72)] bg-[hsl(var(--surface-1)/0.99)] text-[hsl(var(--foreground))] shadow-[0_2px_10px_hsl(var(--background)/0.06)];
  }

  /* Premium card with brand accent on left border */
  .app-card-accent {
    @apply rounded-[var(--radius)] border border-[hsl(var(--border)/0.70)] bg-[hsl(var(--surface-1)/0.99)] text-[hsl(var(--foreground))] shadow-[0_1px_0_hsl(var(--border)/0.38)] border-l-[3px] border-l-[hsl(var(--primary)/0.72)];
  }

  .app-title {
    @apply font-bold tracking-tight text-[hsl(var(--text-strong))];
  }

  .app-subtitle {
    @apply text-sm font-medium text-[hsl(var(--text-subtle))];
  }

  .app-muted {
    @apply text-[hsl(var(--text-subtle))];
  }

  .bottom-nav-safe {
    padding-bottom: calc(5.5rem + env(safe-area-inset-bottom));
  }

  .soft-scrollbar {
    scrollbar-color: hsl(var(--primary) / 0.35) transparent;
    scrollbar-width: thin;
  }

  .soft-scrollbar::-webkit-scrollbar {
    height: 6px;
    width: 6px;
  }

  .soft-scrollbar::-webkit-scrollbar-thumb {
    background-color: hsl(var(--primary) / 0.30);
    border-radius: 999px;
  }

  .soft-scrollbar::-webkit-scrollbar-track {
    background-color: transparent;
  }
}

@layer components {
  .btn-base {
    @apply inline-flex min-h-[44px] items-center justify-center gap-2 rounded-[8px] px-4 py-2 text-sm font-semibold disabled:cursor-not-allowed disabled:opacity-55;
    transition-duration: var(--motion-hover);
  }

  .btn-primary {
    @apply inline-flex min-h-[44px] items-center justify-center gap-2 rounded-[8px] border border-[hsl(var(--primary)/0.7)] bg-[hsl(var(--primary))] px-4 py-2 text-sm font-semibold text-[hsl(var(--primary-foreground))] shadow-[0_3px_10px_hsl(var(--primary)/0.24)] disabled:cursor-not-allowed disabled:opacity-55;
    transition-duration: var(--motion-hover);
  }

  .btn-primary:hover {
    @apply brightness-105 shadow-[0_5px_14px_hsl(var(--primary)/0.3)];
  }

  .btn-secondary {
    @apply inline-flex min-h-[44px] items-center justify-center gap-2 rounded-[8px] border border-[hsl(var(--border))] bg-[hsl(var(--surface-1))] px-4 py-2 text-sm font-semibold text-[hsl(var(--foreground))] disabled:cursor-not-allowed disabled:opacity-55;
    transition-duration: var(--motion-hover);
  }

  .btn-secondary:hover {
    @apply border-[hsl(var(--primary)/0.32)] bg-[hsl(var(--muted)/0.72)];
  }

  .btn-danger {
    @apply inline-flex min-h-[44px] items-center justify-center gap-2 rounded-[8px] border border-[hsl(var(--destructive)/0.5)] bg-[hsl(var(--destructive))] px-4 py-2 text-sm font-semibold text-[hsl(var(--destructive-foreground))] shadow-[0_2px_8px_hsl(var(--destructive)/0.22)] disabled:cursor-not-allowed disabled:opacity-55;
    transition-duration: var(--motion-hover);
  }

  .btn-danger:hover {
    @apply brightness-110;
  }

  .input-base,
  .select-base,
  .textarea-base {
    @apply w-full rounded-[8px] border border-[hsl(var(--border)/0.92)] bg-[hsl(var(--surface-1))] px-3 py-2.5 text-sm text-[hsl(var(--foreground))] placeholder:text-[hsl(var(--text-subtle))] focus:outline-none focus:border-[hsl(var(--primary)/0.55)] focus:ring-1 focus:ring-[hsl(var(--primary)/0.22)];
    min-height: 44px;
    transition-duration: var(--motion-hover);
  }

  .textarea-base {
    min-height: 110px;
  }

  .modal-shell {
    @apply fixed inset-0 z-50 flex items-end justify-center bg-black/52 p-0 backdrop-blur-[3px] sm:items-center sm:p-4;
  }

  .modal-card {
    @apply w-full max-h-[94vh] overflow-y-auto rounded-t-[14px] border border-[hsl(var(--border)/0.72)] bg-[hsl(var(--surface-1))] p-4 text-[hsl(var(--foreground))] shadow-[0_-6px_30px_hsl(var(--background)/0.3)] sm:max-w-3xl sm:rounded-[10px] sm:p-6;
    animation: modal-enter var(--motion-reveal) var(--ease-smooth);
  }
}

@keyframes modal-enter {
  from {
    opacity: 0;
    transform: translateY(12px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}
